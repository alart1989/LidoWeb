<!DOCTYPE html><html><head><meta charset="utf-8"><title>Redirecting…</title>
<meta http-equiv="refresh" content="0; url=./wrap/">
<link rel="canonical" href="./wrap/">
<script>location.replace('./wrap/');</script>

      <style id="theme-toggle-disabled-css">
        [aria-label*="theme" i], [data-testid*="theme" i], .theme-toggle, .ThemeToggle, button[title*="theme" i]{
          pointer-events: none !important;
          cursor: default !important;
          opacity: .6;
        }
      </style>
    </head><body><p>Redirecting to <a href="/wrap/wrap/">/wrap/wrap/</a>…</p>
    <script>
/* FAQ TOGGLE FIX (react-collapsed) */
(function(){
  console.log('FAQ TOGGLE FIX ACTIVE');

  // 1) CSS-оверрайд: делаем панели управляемыми классом .rc-open
  var style = document.createElement('style');
  style.id = 'rc-faq-fix-css';
  style.textContent = `
    .rc-faq-item [id^="react-collapsed-panel-"]{
      box-sizing:border-box;
      max-height:0 !important;
      overflow:hidden !important;
      opacity:0 !important;
      display:block !important; /* на всякий случай — чтобы не было display:none */
      transition:max-height .25s ease, opacity .2s linear;
    }
    .rc-faq-item.rc-open [id^="react-collapsed-panel-"]{
      max-height:2000px !important;
      overflow:visible !important;
      opacity:1 !important;
    }
  `;
  document.head.appendChild(style);

  function closestItem(el){
    while (el && el !== document.documentElement){
      if (el.matches && (el.matches('.sc-aXZVg') || el.hasAttribute('data-rc-faq') || el.hasAttribute('data-faq') || el.className.includes('faq')))
        return el;
      el = el.parentNode;
    }
    return null;
  }

  function normalizeToClosed(btn){
    var item = closestItem(btn); if (!item) return;
    var panelId = btn.getAttribute('aria-controls');
    var panel = panelId ? document.getElementById(panelId) : item.querySelector('[id^="react-collapsed-panel-"]');
    if (!panel) return;

    // Убираем «насильно открытые» инлайновые стили из снимка
    panel.removeAttribute('style');

    // Ставим семантику "закрыто"
    btn.setAttribute('aria-expanded','false');
    btn.setAttribute('data-state','closed');
    panel.setAttribute('aria-hidden','true');
    panel.setAttribute('data-state','closed');
    item.classList.remove('rc-open');

    // Помечаем элемент
    item.classList.add('rc-faq-item');
  }

  function toggleByButton(btn){
    var item = closestItem(btn); if (!item) return;
    var panelId = btn.getAttribute('aria-controls');
    var panel = panelId ? document.getElementById(panelId) : item.querySelector('[id^="react-collapsed-panel-"]');
    if (!panel) return;

    var isOpen = item.classList.contains('rc-open') ||
                 btn.getAttribute('aria-expanded') === 'true' ||
                 panel.getAttribute('aria-hidden') === 'false';

    if (isOpen){
      btn.setAttribute('aria-expanded','false');
      btn.setAttribute('data-state','closed');
      panel.setAttribute('aria-hidden','true');
      panel.setAttribute('data-state','closed');
      item.classList.remove('rc-open');
    } else {
      btn.setAttribute('aria-expanded','true');
      btn.setAttribute('data-state','open');
      panel.setAttribute('aria-hidden','false');
      panel.setAttribute('data-state','open');
      item.classList.add('rc-open');
    }
  }

  // 2) Инициализация: найдём все тумблеры и закроем
  document.querySelectorAll('[id^="react-collapsed-toggle-"]').forEach(normalizeToClosed);

  // 3) Клик-хэндлер (capture, чтобы не мешали «снимочные» слушатели)
  document.addEventListener('click', function(e){
    var btn = e.target.closest && e.target.closest('[id^="react-collapsed-toggle-"], [role="button"], button');
    if (!btn) return;
    // защита: работаем только внутри FAQ-блоков
    var item = closestItem(btn);
    if (!item) return;

    e.preventDefault(); e.stopPropagation(); e.stopImmediatePropagation();
    toggleByButton(btn);
  }, true);
})();
</script>


<script>
/* STAKE THEME LOCK + LOGO FIX ACTIVE */
(function(){
  var MAIN_BASE='http://localhost:8000';

  // 1) Принудительно светлая тема
  try {
    document.documentElement.setAttribute('data-lido-theme','light');
    document.documentElement.classList.remove('dark');
    document.querySelectorAll('[data-lido-theme]').forEach(x=>x.setAttribute('data-lido-theme','light'));
    // подчистим localStorage/attrs с "theme"
    try {
      for (var i=0;i<localStorage.length;i++){
        var k = localStorage.key(i);
        if (/theme/i.test(k)) { localStorage.setItem(k,'light'); }
      }
    } catch(_) {}
  } catch(_) {}

  // 2) Выключаем переключатель темы (любые кнопки/иконки с "theme")
  var THEME_SEL = '[aria-label*="theme" i], [data-testid*="theme" i], .theme-toggle, .ThemeToggle, button[class*="theme"], button[class*="Theme"]';
  document.addEventListener('click', function(e){
    var btn = e.target.closest && e.target.closest(THEME_SEL);
    if (!btn) return;
    e.preventDefault(); e.stopPropagation(); e.stopImmediatePropagation();
  }, true);

  // 3) Лого → на главную (mine-site)
  //   3.1 перепишем href в DOM
  try {
    document.querySelectorAll('a[href="/"], a[href^="https://lido.fi"], a[href^="http://lido.fi"]').forEach(function(a){
      a.setAttribute('href', MAIN_BASE + '/');
    });
  } catch(_) {}
  //   3.2 перехватим клики как страховку
  document.addEventListener('click', function(e){
    var a = e.target.closest && e.target.closest('a[href]');
    if (!a) return;
    var h = a.getAttribute('href') || '';
    if (h === '/' || /^https?:\/\/(?:www\.)?lido\.fi\/?$/.test(h)) {
      e.preventDefault(); e.stopPropagation(); e.stopImmediatePropagation();
      location.href = MAIN_BASE + '/';
    }
  }, true);

  console.log('STAKE THEME LOCK + LOGO FIX ACTIVE');
})();
</script>

<script>
/* STAKE THEME LOCK + LOGO FIX v2 ACTIVE */
(function(){
  var MAIN_BASE='http://localhost:8000';
  var LOGO_SEL='a[aria-label="Main page"], a[aria-label*="main page" i], a[aria-label*="logo" i], .header-content_logoWrapper__SdLXi a, header a:has(svg)';
  var THEME_SEL='[aria-label*="theme" i], [data-testid*="theme" i], .theme-toggle, .ThemeToggle, button[title*="theme" i]';

  // 1) Оставляем только светлую тему и глушим тумблер
  try {
    document.documentElement.setAttribute('data-lido-theme','light');
    document.documentElement.classList.remove('dark');
    // сброс возможных записей темы
    try {
      for (var i=0;i<localStorage.length;i++){
        var k = localStorage.key(i);
        if (/theme/i.test(k)) localStorage.setItem(k, 'light');
      }
    } catch(_){}
  } catch(_){}
  document.addEventListener('click', function(e){
    var t = e.target.closest && e.target.closest(THEME_SEL);
    if (!t) return;
    e.preventDefault(); e.stopPropagation(); e.stopImmediatePropagation();
  }, true);

  // 2) Клик по ЛОГО → на главную. БОЛЬШЕ НИЧЕГО НЕ ТРОГАЕМ.
  // оффлайн мы уже переписали href у лого; но страхуемся на рантайме
  document.addEventListener('click', function(e){
    var a = e.target.closest && e.target.closest('a[href]');
    if (!a) return;
    if (a.matches(LOGO_SEL)) {
      e.preventDefault(); e.stopPropagation(); e.stopImmediatePropagation();
      location.href = MAIN_BASE + '/';
    }
  }, true);

  console.log('STAKE THEME LOCK + LOGO FIX v2 ACTIVE');
})();
</script>
</body></html>